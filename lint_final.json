[{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\parse_lint.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\components\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\components\\Navbar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\components\\ui\\Captcha.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\components\\ui\\ConnectsBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\components\\ui\\ErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\components\\ui\\GlobalAlert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\components\\ui\\JobCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\components\\ui\\LoadingScreen.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\components\\ui\\ProjectCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\components\\ui\\VerificationBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\components\\ui\\button.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":2,"message":"'asChild' is assigned a value but never used.","line":41,"column":34,"nodeType":"Identifier","messageId":"unusedVar","endLine":41,"endColumn":41},{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":53,"column":18,"nodeType":"Identifier","messageId":"namedExport","endLine":53,"endColumn":32}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n    \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\",\r\n    {\r\n        variants: {\r\n            variant: {\r\n                default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n                destructive:\r\n                    \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n                outline:\r\n                    \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n                secondary:\r\n                    \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n                ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n                link: \"text-primary underline-offset-4 hover:underline\",\r\n            },\r\n            size: {\r\n                default: \"h-10 px-4 py-2\",\r\n                sm: \"h-9 rounded-md px-3\",\r\n                lg: \"h-11 rounded-md px-8\",\r\n                icon: \"h-10 w-10\",\r\n            },\r\n        },\r\n        defaultVariants: {\r\n            variant: \"default\",\r\n            size: \"default\",\r\n        },\r\n    }\r\n)\r\n\r\nexport interface ButtonProps\r\n    extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n    asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n    ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n        return (\r\n            <button\r\n                className={cn(buttonVariants({ variant, size, className }))}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\components\\ui\\input.tsx","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An interface declaring no members is equivalent to its supertype.","line":4,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterfaceWithSuper","endLine":4,"endColumn":28,"suggestions":[{"messageId":"replaceEmptyInterfaceWithSuper","fix":{"range":[79,160],"text":"type InputProps = React.InputHTMLAttributes<HTMLInputElement>"},"desc":"Replace empty interface with a type alias."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\"\r\nimport { cn } from \"../../lib/utils\"\r\n\r\nexport interface InputProps\r\n    extends React.InputHTMLAttributes<HTMLInputElement> { }\r\n\r\nconst Input = React.forwardRef<HTMLInputElement, InputProps>(\r\n    ({ className, type, ...props }, ref) => {\r\n        return (\r\n            <input\r\n                type={type}\r\n                className={cn(\r\n                    \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\r\n                    className\r\n                )}\r\n                ref={ref}\r\n                {...props}\r\n            />\r\n        )\r\n    }\r\n)\r\nInput.displayName = \"Input\"\r\n\r\nexport { Input }\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\context\\AlertContext.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":37,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":37,"endColumn":25,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\context\\AuthContext.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\context\\AuthContext.tsx:161:21\n  159 |                 try {\n  160 |                     const parsed = JSON.parse(storedUser);\n> 161 |                     setUser(parsed);\n      |                     ^^^^^^^ Avoid calling setState() directly within an effect\n  162 |                 } catch {\n  163 |                     localStorage.removeItem(CURRENT_USER_KEY);\n  164 |                 }","line":161,"column":21,"nodeType":null,"endLine":161,"endColumn":28},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchUserProfile'. Either include it or remove the dependency array.","line":168,"column":8,"nodeType":"ArrayExpression","endLine":168,"endColumn":10,"suggestions":[{"desc":"Update the dependencies array to be: [fetchUserProfile]","fix":{"range":[7378,7380],"text":"[fetchUserProfile]"}}]}],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":260,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":260,"endColumn":24,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext, useContext, useState, useEffect, type ReactNode } from 'react';\r\nimport { supabase, isConfigured } from '../lib/supabaseClient';\r\n\r\ninterface User {\r\n    id: string;\r\n    email: string;\r\n    name: string;\r\n    avatar?: string;\r\n    role: 'photographer' | 'visitor' | 'admin' | 'client';\r\n}\r\n\r\ninterface AuthContextType {\r\n    user: User | null;\r\n    isAuthenticated: boolean;\r\n    login: (email: string, password: string) => Promise<void>;\r\n    signup: (email: string, password: string, name: string, role?: 'photographer' | 'visitor' | 'admin' | 'client', metadata?: Record<string, unknown>) => Promise<void>;\r\n    logout: () => void;\r\n}\r\n\r\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\r\n\r\nconst MOCK_USERS_KEY = 'tunisian_lens_mock_users';\r\nconst CURRENT_USER_KEY = 'tunisian_lens_current_user';\r\n\r\n// Seed a default admin account so it's always available\r\n(function seedAdminAccount() {\r\n    const mockUsers = JSON.parse(localStorage.getItem(MOCK_USERS_KEY) || '[]');\r\n    const adminExists = mockUsers.some((u: { email: string }) => u.email === 'admin@tunisianlens.com');\r\n    if (!adminExists) {\r\n        mockUsers.push({\r\n            id: 'admin-1',\r\n            email: 'admin@tunisianlens.com',\r\n            password: 'admin123',\r\n            name: 'Site Admin',\r\n            role: 'admin'\r\n        });\r\n        localStorage.setItem(MOCK_USERS_KEY, JSON.stringify(mockUsers));\r\n    }\r\n})();\r\n\r\nexport function AuthProvider({ children }: { children: ReactNode }) {\r\n    const [user, setUser] = useState<User | null>(null);\r\n\r\n    interface SupabaseUser { id: string; email?: string; user_metadata: Record<string, unknown>; }\r\n    const fetchUserProfile = async (supabaseUser: SupabaseUser) => {\r\n        try {\r\n            // 1. Get user role and verification status from public.users\r\n            const { data: profileData, error: profileError } = await supabase\r\n                .from('users')\r\n                .select('*')\r\n                .eq('id', supabaseUser.id)\r\n                .single();\r\n\r\n            let profile = profileData;\r\n            if (profileError && profileError.code !== 'PGRST116') {\r\n                console.error(\"Profile fetch error:\", profileError);\r\n            }\r\n\r\n            // If profile doesn't exist (happens right after signup), the trigger might not have finished\r\n            // or we might need to create it manually if triggers are disabled.\r\n            if (profileError && profileError.code === 'PGRST116') {\r\n                const { data: newProfile, error: _createError } = await supabase\r\n                    .from('users')\r\n                    .upsert({\r\n                        id: supabaseUser.id,\r\n                        email: supabaseUser.email,\r\n                        name: supabaseUser.user_metadata.full_name || supabaseUser.email?.split('@')[0],\r\n                        role: supabaseUser.user_metadata.role || 'photographer'\r\n                    })\r\n                    .select()\r\n                    .single();\r\n\r\n                if (!_createError) profile = newProfile;\r\n            }\r\n\r\n            // 2. If photographer, ensure photographer record exists\r\n            if (profile?.role === 'photographer') {\r\n                const { data: photo, error: _photoError } = await supabase\r\n                    .from('photographers')\r\n                    .select('*')\r\n                    .eq('user_id', supabaseUser.id)\r\n                    .single();\r\n\r\n                if (_photoError && _photoError.code === 'PGRST116') {\r\n                    // Create photographer profile\r\n                    await supabase.from('photographers').insert({\r\n                        user_id: supabaseUser.id,\r\n                        location: supabaseUser.user_metadata.city || '',\r\n                        connects_balance: 0 // Start at 0 until verified\r\n                    });\r\n                }\r\n\r\n                // 3. Connects Award Logic: If verified and never awarded, give 20 connects\r\n                if (profile.is_verified) {\r\n                    const { data: transactions } = await supabase\r\n                        .from('connect_transactions')\r\n                        .select('id')\r\n                        .eq('photographer_id', photo?.id || '')\r\n                        .eq('reason', 'bonus')\r\n                        .limit(1);\r\n\r\n                    if (!transactions || transactions.length === 0) {\r\n                        // Get photo id if we just created it or it was missing\r\n                        const { data: photoDataRef } = await supabase.from('photographers').select('id').eq('user_id', supabaseUser.id).single();\r\n                        const photoId = (photo?.id || (photoDataRef as { id: string } | null)?.id) as string | undefined;\r\n\r\n                        if (photoId) {\r\n                            // Award 20 connects\r\n                            await supabase.from('photographers').update({ connects_balance: 20 }).eq('id', photoId);\r\n                            await supabase.from('connect_transactions').insert({\r\n                                photographer_id: photoId,\r\n                                amount: 20,\r\n                                reason: 'bonus'\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Map data\r\n            const userData: User = {\r\n                id: supabaseUser.id,\r\n                email: supabaseUser.email || '',\r\n                name: (profile?.name as string) || (supabaseUser.user_metadata.full_name as string) || supabaseUser.email?.split('@')[0] || 'User',\r\n                avatar: (supabaseUser.user_metadata.avatar_url as string) || \"https://randomuser.me/api/portraits/lego/1.jpg\",\r\n                role: (profile?.role as 'photographer' | 'visitor' | 'admin' | 'client') || (supabaseUser.user_metadata.role as 'photographer' | 'visitor' | 'admin' | 'client') || 'photographer'\r\n            };\r\n\r\n            setUser(userData);\r\n        } catch (_e) {\r\n            console.error(\"Failed to fetch extended profile:\", _e);\r\n        }\r\n    };\r\n\r\n    // Sync auth state\r\n    useEffect(() => {\r\n        if (isConfigured) {\r\n            // Get initial Supabase session\r\n            supabase.auth.getSession().then(({ data: { session } }) => {\r\n                if (session?.user) {\r\n                    fetchUserProfile(session.user);\r\n                }\r\n            });\r\n\r\n            // Listen for Supabase auth changes\r\n            const { data: { subscription } } = supabase.auth.onAuthStateChange((_event, session) => {\r\n                if (session?.user) {\r\n                    fetchUserProfile(session.user);\r\n                } else {\r\n                    setUser(null);\r\n                }\r\n            });\r\n\r\n            return () => subscription.unsubscribe();\r\n        } else {\r\n            // Mock mode: Check localStorage for session\r\n            const storedUser = localStorage.getItem(CURRENT_USER_KEY);\r\n            if (storedUser) {\r\n                try {\r\n                    const parsed = JSON.parse(storedUser);\r\n                    setUser(parsed);\r\n                } catch {\r\n                    localStorage.removeItem(CURRENT_USER_KEY);\r\n                }\r\n            }\r\n            console.log(\"ðŸ› ï¸ Auth running in Mock Mode (No Supabase detected)\");\r\n        }\r\n    }, []);\r\n\r\n    const login = async (email: string, password: string) => {\r\n        if (isConfigured) {\r\n            const { error } = await supabase.auth.signInWithPassword({\r\n                email,\r\n                password,\r\n            });\r\n            if (error) throw error;\r\n        } else {\r\n            // Mock login\r\n            const mockUsers = JSON.parse(localStorage.getItem(MOCK_USERS_KEY) || '[]');\r\n            const foundUser = mockUsers.find((u: { email: string; password: string }) => u.email === email && u.password === password);\r\n\r\n            if (foundUser) {\r\n                const userData: User = {\r\n                    id: foundUser.id,\r\n                    email: foundUser.email,\r\n                    name: foundUser.name,\r\n                    avatar: \"https://randomuser.me/api/portraits/lego/1.jpg\",\r\n                    role: foundUser.role || 'photographer'\r\n                };\r\n                setUser(userData);\r\n                localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(userData));\r\n            } else {\r\n                throw new Error(\"Invalid email or password\");\r\n            }\r\n        }\r\n    };\r\n\r\n    const signup = async (email: string, password: string, name: string, role: 'photographer' | 'visitor' | 'admin' | 'client' = 'photographer', metadata?: Record<string, unknown>) => {\r\n        if (isConfigured) {\r\n            const { error } = await supabase.auth.signUp({\r\n                email,\r\n                password,\r\n                options: {\r\n                    data: {\r\n                        full_name: name,\r\n                        role: role,\r\n                        ...metadata\r\n                    },\r\n                },\r\n            });\r\n            if (error) throw error;\r\n        } else {\r\n            // Mock signup\r\n            const mockUsers = JSON.parse(localStorage.getItem(MOCK_USERS_KEY) || '[]');\r\n            if (mockUsers.some((u: { email: string }) => u.email === email)) {\r\n                throw new Error(\"User already exists\");\r\n            }\r\n\r\n            const newUser = {\r\n                id: Math.random().toString(36).substr(2, 9),\r\n                email,\r\n                password,\r\n                name,\r\n                role,\r\n                ...metadata\r\n            };\r\n\r\n            mockUsers.push(newUser);\r\n            localStorage.setItem(MOCK_USERS_KEY, JSON.stringify(mockUsers));\r\n\r\n            const userData: User = {\r\n                id: newUser.id,\r\n                email: newUser.email,\r\n                name: newUser.name,\r\n                avatar: \"https://randomuser.me/api/portraits/lego/1.jpg\",\r\n                role: newUser.role as 'photographer' | 'visitor' | 'admin' | 'client'\r\n            };\r\n            setUser(userData);\r\n            localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(userData));\r\n        }\r\n    };\r\n\r\n    const logout = async () => {\r\n        if (isConfigured) {\r\n            await supabase.auth.signOut();\r\n        } else {\r\n            localStorage.removeItem(CURRENT_USER_KEY);\r\n            setUser(null);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <AuthContext.Provider value={{ user, isAuthenticated: !!user, login, signup, logout }}>\r\n            {children}\r\n        </AuthContext.Provider>\r\n    );\r\n}\r\n\r\n// eslint-disable-next-line react-refresh/only-export-components\r\nexport function useAuth() {\r\n    const context = useContext(AuthContext);\r\n    if (context === undefined) {\r\n        throw new Error('useAuth must be used within an AuthProvider');\r\n    }\r\n    return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\context\\MarketplaceContext.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":227,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":227,"endColumn":31,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\context\\ProjectContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":72,"column":49,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":52,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2451,2454],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2451,2454],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":75,"column":46,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":75,"endColumn":49,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2600,2603],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2600,2603],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":91,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":91,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3378,3381],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3378,3381],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":185,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":185,"endColumn":28,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { supabase, isConfigured } from '../lib/supabaseClient';\r\nimport { useAuth } from './AuthContext';\r\n\r\nexport interface Artist {\r\n    id: string;\r\n    name: string;\r\n    avatar: string;\r\n    location: string;\r\n    bio?: string;\r\n    tags?: string[];\r\n    followers?: number;\r\n    following?: number;\r\n    projectCount?: number;\r\n}\r\n\r\nexport interface Project {\r\n    id: string;\r\n    title: string;\r\n    image: string;\r\n    category: string;\r\n    likes: number;\r\n    artist: {\r\n        id: string;\r\n        name: string;\r\n        avatar: string;\r\n    };\r\n    description?: string;\r\n    tags?: string[];\r\n    date?: string;\r\n    isPrivate?: boolean;\r\n    isDownloadable?: boolean;\r\n    accessCode?: string;\r\n}\r\n\r\ninterface ProjectContextType {\r\n    projects: Project[];\r\n    publicProjects: Project[];\r\n    isLoading: boolean;\r\n    addProject: (newProjectData: Omit<Project, 'id' | 'likes' | 'artist'>) => Promise<void>;\r\n    getProject: (id: string) => Project | undefined;\r\n    getProjectByCode: (code: string) => Project | undefined;\r\n    deleteProject: (id: string) => Promise<void>;\r\n}\r\n\r\nconst ProjectContext = createContext<ProjectContextType | undefined>(undefined);\r\n\r\nexport const ProjectProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {\r\n    const [projects, setProjects] = useState<Project[]>([]);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const { user } = useAuth();\r\n\r\n    // Derived state for public projects\r\n    const publicProjects = projects.filter(p => !p.isPrivate);\r\n\r\n    // Fetch projects â€” from Supabase if configured, otherwise from localStorage only\r\n    const fetchProjects = async () => {\r\n        setIsLoading(true);\r\n        try {\r\n            if (isConfigured) {\r\n                const { data, error } = await supabase\r\n                    .from('projects')\r\n                    .select('*')\r\n                    .order('created_at', { ascending: false });\r\n\r\n                if (error) {\r\n                    console.warn('Supabase fetch error, using localStorage fallback', error);\r\n                    const stored = localStorage.getItem('tunisian_lens_projects_v2');\r\n                    const parsed: Project[] = stored ? JSON.parse(stored) : [];\r\n                    setProjects(parsed.map((p: Project) => ({\r\n                        ...p,\r\n                        image: p.image || (p as any).image_url || ''\r\n                    })));\r\n                } else if (data && data.length > 0) {\r\n                    setProjects(data.map((p: any) => ({\r\n                        ...p,\r\n                        image: p.image || p.image_url,\r\n                        isPrivate: p.is_private,\r\n                        isDownloadable: p.is_downloadable,\r\n                        accessCode: p.access_code\r\n                    })) as Project[]);\r\n                } else {\r\n                    setProjects([]);\r\n                }\r\n            } else {\r\n                // No Supabase â€” use localStorage submissions only (no mock data)\r\n                const stored = localStorage.getItem('tunisian_lens_projects_v2');\r\n                const parsed: Project[] = stored ? JSON.parse(stored) : [];\r\n                setProjects(parsed.map((p: Project) => ({\r\n                    ...p,\r\n                    image: p.image || (p as any).image_url || ''\r\n                })));\r\n            }\r\n        } catch (e) {\r\n            console.warn('Project fetch failed:', e);\r\n            setProjects([]);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchProjects();\r\n    }, []);\r\n\r\n    const addProject = async (newProjectData: Omit<Project, 'id' | 'likes' | 'artist'>) => {\r\n        if (!user) return;\r\n\r\n        const newProject = {\r\n            title: newProjectData.title,\r\n            category: newProjectData.category,\r\n            image: newProjectData.image,\r\n            description: newProjectData.description,\r\n            tags: newProjectData.tags,\r\n            is_private: newProjectData.isPrivate,\r\n            is_downloadable: newProjectData.isDownloadable,\r\n            access_code: newProjectData.accessCode,\r\n            likes: 0,\r\n            artist: {\r\n                id: user.id,\r\n                name: user.name,\r\n                avatar: user.avatar\r\n            }\r\n        };\r\n\r\n        const { data, error } = await supabase\r\n            .from('projects')\r\n            .insert([newProject])\r\n            .select();\r\n\r\n        if (error) {\r\n            console.error(\"Error adding project to Supabase:\", error);\r\n            // Fallback for demo\r\n            const localProject: Project = {\r\n                id: Date.now().toString(),\r\n                ...newProject,\r\n                artist: newProject.artist,\r\n                date: new Date().toISOString()\r\n            } as Project;\r\n            const updated = [localProject, ...projects];\r\n            setProjects(updated);\r\n            localStorage.setItem('tunisian_lens_projects_v2', JSON.stringify(updated));\r\n            return;\r\n        }\r\n\r\n        if (data) {\r\n            setProjects([data[0], ...projects]);\r\n        }\r\n    };\r\n\r\n    const getProject = (id: string) => {\r\n        return projects.find(p => p.id === id);\r\n    };\r\n\r\n    const getProjectByCode = (code: string) => {\r\n        return projects.find(p => p.accessCode === code);\r\n    };\r\n\r\n    const deleteProject = async (id: string) => {\r\n        const { error } = await supabase\r\n            .from('projects')\r\n            .delete()\r\n            .eq('id', id);\r\n\r\n        if (error) {\r\n            console.error(\"Error deleting project from Supabase:\", error);\r\n            // Fallback for local\r\n            const updatedProjects = projects.filter(p => p.id !== id);\r\n            setProjects(updatedProjects);\r\n            localStorage.setItem('tunisian_lens_projects_v2', JSON.stringify(updatedProjects));\r\n            return;\r\n        }\r\n\r\n        setProjects(projects.filter(p => p.id !== id));\r\n    };\r\n\r\n    return (\r\n        <ProjectContext.Provider value={{ projects, publicProjects, isLoading, addProject, getProject, getProjectByCode, deleteProject }}>\r\n            {children}\r\n        </ProjectContext.Provider>\r\n    );\r\n}\r\n\r\n// eslint-disable-next-line react-refresh/only-export-components\r\nexport function useProjects() {\r\n    const context = useContext(ProjectContext);\r\n    if (context === undefined) {\r\n        throw new Error('useProjects must be used within a ProjectProvider');\r\n    }\r\n    return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\context\\ThemeContext.tsx","messages":[],"suppressedMessages":[{"ruleId":"react-refresh/only-export-components","severity":2,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":44,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":44,"endColumn":25,"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\data\\mockData.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\layouts\\MainLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\lib\\api.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\lib\\cloudinary.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\lib\\supabaseClient.ts","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from '@typescript-eslint/no-non-null-assertion').","line":23,"column":1,"severity":1,"nodeType":null,"fix":{"range":[694,762],"text":" "}}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"import { createClient, type SupabaseClient } from '@supabase/supabase-js'\r\n\r\nconst supabaseUrl = import.meta.env.VITE_SUPABASE_URL || ''\r\nconst supabaseAnonKey = import.meta.env.VITE_SUPABASE_ANON_KEY || ''\r\n\r\n// Configured only when both env vars are present and look valid\r\nexport const isConfigured =\r\n    supabaseUrl.startsWith('https://') &&\r\n    supabaseUrl.includes('.supabase.co') &&\r\n    supabaseAnonKey.length > 10\r\n\r\nlet _supabase: SupabaseClient | null = null\r\n\r\nif (isConfigured) {\r\n    try {\r\n        _supabase = createClient(supabaseUrl, supabaseAnonKey)\r\n    } catch (e) {\r\n        console.warn('Supabase client failed to initialize:', e)\r\n        _supabase = null\r\n    }\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\nexport const supabase = _supabase!\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\lib\\verification.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\About.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\ArtistProfile.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\ArtistProfile.tsx:34:13\n  32 |         if (id) {\n  33 |             const status = isArtistVerified(id);\n> 34 |             setIsVerified(prev => prev !== status ? status : prev);\n     |             ^^^^^^^^^^^^^ Avoid calling setState() directly within an effect\n  35 |         }\n  36 |     }, [id]);\n  37 |","line":34,"column":13,"nodeType":null,"endLine":34,"endColumn":26},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":57,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":57,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2427,2430],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2427,2430],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":169,"column":45,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":169,"endColumn":48,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8992,8995],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8992,8995],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useParams, Link } from \"react-router-dom\";\r\nimport { ARTISTS, PROJECTS } from \"../data/mockData\";\r\nimport { ProjectCard } from \"../components/ui/ProjectCard\";\r\nimport { Button } from \"../components/ui/button\";\r\nimport { MapPin, Mail, Instagram, Phone, ShieldCheck, Globe, Clock, Check, Calendar } from \"lucide-react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { useAuth } from \"../context/AuthContext\";\r\nimport { VerificationBadge } from \"../components/ui/VerificationBadge\";\r\nimport { cn } from \"../lib/utils\";\r\n\r\nimport { isArtistVerified, setArtistVerification } from \"../lib/verification\";\r\n\r\nexport function ArtistProfile() {\r\n    const { id } = useParams<{ id: string }>();\r\n    const [showContact, setShowContact] = useState(false);\r\n    const { user } = useAuth();\r\n    const isAdmin = user?.role === 'admin';\r\n\r\n    // (removed redundant state)\r\n\r\n    // Get mock users from storage\r\n    const mockUsers = JSON.parse(localStorage.getItem('tunisian_lens_mock_users') || '[]');\r\n\r\n    // Find artist: Check hardcoded ARTISTS first, then mock users\r\n    interface MockUser { id: string; email: string; name: string; avatar?: string; role: string; isVerified?: boolean; }\r\n    const artist = ARTISTS.find(a => a.id === id) ||\r\n        (mockUsers as MockUser[]).find((u: MockUser) => u.id === id);\r\n\r\n    const [isVerified, setIsVerified] = useState(() => id ? isArtistVerified(id) : false);\r\n\r\n    useEffect(() => {\r\n        if (id) {\r\n            const status = isArtistVerified(id);\r\n            setIsVerified(prev => prev !== status ? status : prev);\r\n        }\r\n    }, [id]);\r\n\r\n    const artistProjects = PROJECTS.filter(p => p.artist.id === id);\r\n\r\n    if (!artist) {\r\n        return (\r\n            <div className=\"container mx-auto px-4 py-20 text-center space-y-4\">\r\n                <h1 className=\"text-2xl font-serif font-bold\">Artist Not Found</h1>\r\n                <p className=\"text-muted-foreground\">The profile you are looking for does not exist or is private.</p>\r\n                <Button onClick={() => window.history.back()}>Go Back</Button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const toggleVerification = () => {\r\n        const newStatus = !isVerified;\r\n        setIsVerified(newStatus);\r\n        if (id) setArtistVerification(id, newStatus);\r\n    };\r\n\r\n    // Default values for mock users who might not have full artist profile data yet\r\n    const artistAsAny = artist as any;\r\n    const location = artistAsAny.location || \"Tunisia\";\r\n    const country = artistAsAny.country || \"Tunisia\";\r\n    const bio = artistAsAny.bio || \"Passionate photographer exploring the beauty of Tunisia.\";\r\n    const profileCategories = artistAsAny.categories || [\"Photography\"];\r\n    const languages = artistAsAny.languages || [];\r\n    const startingPrice = artistAsAny.startingPrice || null;\r\n    const currency = artistAsAny.currency || \"USD\";\r\n    const packages = artistAsAny.packages || [];\r\n    const contact = artistAsAny.contact || {\r\n        email: artistAsAny.email || \"contact@example.com\",\r\n        instagram: \"@tunisian_lens\",\r\n        phone: \"+216 -- --- ---\"\r\n    };\r\n\r\n    return (\r\n        <div className=\"container mx-auto px-4 py-12 space-y-12 animate-in fade-in duration-500\">\r\n\r\n            {/* Profile Header */}\r\n            <div className=\"flex flex-col md:flex-row gap-8 items-start md:items-center justify-between border-b pb-12\">\r\n                <div className=\"flex flex-col md:flex-row gap-6 items-center md:items-start text-center md:text-left\">\r\n                    <img\r\n                        src={artist.avatar || \"https://randomuser.me/api/portraits/lego/1.jpg\"}\r\n                        alt={artist.name}\r\n                        className=\"w-32 h-32 rounded-full object-cover border-4 border-background shadow-lg\"\r\n                    />\r\n                    <div className=\"space-y-2\">\r\n                        <div className=\"flex items-center justify-center md:justify-start gap-2\">\r\n                            <h1 className=\"text-3xl font-serif font-bold\">{artist.name}</h1>\r\n                            {isVerified && <VerificationBadge size={20} />}\r\n                        </div>\r\n                        <div className=\"flex flex-wrap items-center justify-center md:justify-start text-muted-foreground gap-3\">\r\n                            <span className=\"flex items-center gap-1\">\r\n                                <MapPin className=\"h-4 w-4\" strokeWidth={2} />\r\n                                {location}\r\n                            </span>\r\n                            <span className=\"flex items-center gap-1\">\r\n                                <Globe className=\"h-4 w-4\" strokeWidth={2} />\r\n                                {country}\r\n                            </span>\r\n                        </div>\r\n                        {languages.length > 0 && (\r\n                            <p className=\"text-sm text-muted-foreground\">\r\n                                <span className=\"font-medium text-foreground\">Speaks:</span> {languages.join(\", \")}\r\n                            </p>\r\n                        )}\r\n                        <p className=\"max-w-md text-muted-foreground\">{bio}</p>\r\n                        <div className=\"flex flex-wrap gap-2 justify-center md:justify-start pt-2\">\r\n                            {profileCategories.map((cat: string) => (\r\n                                <span key={cat} className=\"text-xs px-2 py-1 bg-secondary rounded-md\">{cat}</span>\r\n                            ))}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Actions */}\r\n                <div className=\"w-full md:w-auto flex flex-col items-center md:items-end space-y-4\">\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                        {isAdmin && (\r\n                            <Button\r\n                                variant={isVerified ? \"outline\" : \"default\"}\r\n                                onClick={toggleVerification}\r\n                                className=\"flex items-center gap-2\"\r\n                            >\r\n                                <ShieldCheck className=\"h-4 w-4\" />\r\n                                {isVerified ? \"Remove Verification\" : \"Verify Photographer\"}\r\n                            </Button>\r\n                        )}\r\n                        {startingPrice && (\r\n                            <Link to={`/hire/${id}`}>\r\n                                <Button size=\"lg\" className=\"gap-2\">\r\n                                    <Calendar className=\"h-4 w-4\" strokeWidth={2} />\r\n                                    Request Booking\r\n                                </Button>\r\n                            </Link>\r\n                        )}\r\n                        <Button size=\"lg\" variant=\"outline\" onClick={() => setShowContact(!showContact)}>\r\n                            {showContact ? \"Hide Contact\" : \"Contact\"}\r\n                        </Button>\r\n                    </div>\r\n\r\n                    {showContact && (\r\n                        <div className=\"bg-muted p-4 rounded-lg space-y-3 w-full md:w-64 animate-in slide-in-from-top-2 duration-200\">\r\n                            <div className=\"flex items-center space-x-3\">\r\n                                <Mail className=\"h-4 w-4 text-muted-foreground\" strokeWidth={2} />\r\n                                <a href={`mailto:${contact.email}`} className=\"text-sm hover:underline\">{contact.email}</a>\r\n                            </div>\r\n                            <div className=\"flex items-center space-x-3\">\r\n                                <Phone className=\"h-4 w-4 text-muted-foreground\" strokeWidth={2} />\r\n                                <a href={`tel:${contact.phone}`} className=\"text-sm hover:underline\">{contact.phone}</a>\r\n                            </div>\r\n                            <div className=\"flex items-center space-x-3\">\r\n                                <Instagram className=\"h-4 w-4 text-muted-foreground\" strokeWidth={2} />\r\n                                <a href=\"#\" className=\"text-sm hover:underline\">{contact.instagram}</a>\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Service Packages */}\r\n            {packages.length > 0 && (\r\n                <div className=\"space-y-6\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <h2 className=\"text-2xl font-serif font-bold\">Service Packages</h2>\r\n                        <Link to={`/hire/${id}`}>\r\n                            <Button variant=\"outline\" size=\"sm\" className=\"gap-1.5\">\r\n                                <Calendar className=\"h-4 w-4\" strokeWidth={2} /> Book Now\r\n                            </Button>\r\n                        </Link>\r\n                    </div>\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\r\n                        {packages.map((pkg: any, i: number) => (\r\n                            <div key={i} className={cn(\r\n                                \"p-5 rounded-xl border-2 space-y-3\",\r\n                                i === 1 ? \"border-foreground\" : \"border-border\"\r\n                            )}>\r\n                                {i === 1 && <span className=\"text-[10px] font-bold uppercase tracking-widest bg-foreground text-background px-2 py-0.5 rounded-full\">Popular</span>}\r\n                                <div>\r\n                                    <p className=\"text-xs font-bold uppercase tracking-widest text-muted-foreground\">{pkg.name}</p>\r\n                                    <p className=\"text-2xl font-bold mt-1\">${pkg.price} <span className=\"text-sm font-normal text-muted-foreground\">{currency}</span></p>\r\n                                </div>\r\n                                <p className=\"text-sm text-muted-foreground\">{pkg.description}</p>\r\n                                <div className=\"flex items-center gap-1.5 text-sm\">\r\n                                    <Clock className=\"h-3.5 w-3.5\" strokeWidth={2} />\r\n                                    {pkg.deliveryDays} day{pkg.deliveryDays !== 1 ? \"s\" : \"\"} delivery\r\n                                </div>\r\n                                <ul className=\"space-y-1.5\">\r\n                                    {pkg.includes.map((item: string) => (\r\n                                        <li key={item} className=\"flex items-start gap-2 text-xs text-muted-foreground\">\r\n                                            <Check className=\"h-3.5 w-3.5 mt-0.5 flex-shrink-0 text-foreground\" strokeWidth={2.5} />\r\n                                            {item}\r\n                                        </li>\r\n                                    ))}\r\n                                </ul>\r\n                            </div>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Portfolio Grid */}\r\n            <div>\r\n                <h2 className=\"text-2xl font-serif font-bold mb-6\">Portfolio</h2>\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n                    {artistProjects.map((project) => (\r\n                        <ProjectCard\r\n                            key={project.id}\r\n                            {...project}\r\n                            artist={{\r\n                                ...project.artist,\r\n                                isVerified: isArtistVerified(project.artist.id)\r\n                            }}\r\n                        />\r\n                    ))}\r\n                    {artistProjects.length === 0 && (\r\n                        <p className=\"text-muted-foreground col-span-full py-8 text-center\">No projects uploaded yet.</p>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\ClientAccess.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\Dashboard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\Explore.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\Hire.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\Home.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\JobDetail.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\Jobs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\Links.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\Login.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\Photographers.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\PostJob.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\ProjectDetails.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\Signup.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\src\\pages\\SubmitProject.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\tailwind.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Tanko-Laptop\\.gemini\\antigravity\\scratch\\tunisian_lens\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
